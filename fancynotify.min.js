(function(d,f){Fancy.require({jQuery:false,Fancy:"1.0.6"});var a=1,g="FancyNotify",e="1.0.4",c=false;function b(h,i){var k=this;if(f("#"+g+"-wrapper-"+i.id).length){return}k.settings=f.extend({},Fancy.settings[g],i);var j={title:{type:"String|Number",required:true},text:{type:"String|Number",required:true},buttons:{type:"Array",types:"Object"},icon:{type:"Object|String"},steady:{type:"Boolean"}};Fancy.check(k.settings,j);k.id=a;k.element=h;k.version=e;k.name=g;if(!c){c=true;Fancy.version(k)}if(h.selector&&k.settings.steady&&!localStorage[g+"-"+a]){localStorage[g+"-"+a]=JSON.stringify({element:h.selector,settings:i})}k.html={wrapper:Fancy.preventSelect(f("<div/>",{id:g+"-wrapper-"+k.id,"class":g+"-wrapper"})),inner:f("<div/>",{id:g+"-inner-"+k.id,"class":g+"-inner"}),content:f("<div/>",{id:g+"-content-"+k.id,"class":g+"-content"}),title:f("<div/>",{id:g+"-title-"+k.id,"class":g+"-title",html:k.settings.title}),body:f("<div/>",{id:g+"-body-"+k.id,"class":g+"-body",html:k.settings.text}),icon:f("<div/>",{id:g+"-icon-"+k.id,"class":g+"-icon"}),buttons:f("<div/>",{id:g+"-buttons-"+k.id,"class":g+"-buttons"}),close:f("<div/>",{id:g+"-close-"+k.id,"class":g+"-close"})};if(k.settings.buttons.length){k.settings.buttons.forEach(function(m){var l=f("<div/>",{"class":g+"-button",text:m.title,style:"width: "+(100/k.settings.buttons.length)+"%"});k.html.buttons.append(l);l.on("click",function(){m.click.call(k,m)})})}k.html.wrapper.append(k.html.inner.append(k.html.content.append(k.html.icon).append(k.html.title).append(k.html.body)).append(k.html.close)).append(k.html.buttons);if(typeof k.settings.icon==="object"){k.html.icon.append(k.settings.icon)}else{k.html.icon.addClass(k.settings.icon)}k.html.close.on("click",function(){k.close()});k.element.append(k.html.wrapper);k.settings.onBeforeOpen.call(k);setTimeout(function(){k.html.wrapper.addClass("show")},k.settings.showDelay);a++}b.api=b.prototype={};b.api.version=e;b.api.name=g;b.api.close=function(){var h=this;localStorage.removeItem(g+"-"+h.id);h.html.wrapper.addClass("hide").removeClass("show");h.settings.onBeforeClose.call(h);setTimeout(function(){h.html.wrapper.remove()},h.settings.closeDelay)};Fancy.settings[g]={title:"",text:"",buttons:[],icon:"",steady:false,closeDelay:1000,showDelay:20,onBeforeClose:function(){},onBeforeOpen:function(){}};Fancy.notify=e;Fancy.api.notify=function(h){this.set(g,function(i){return new b(i,h)},false)};Fancy.notifyFromCache=function(){for(var h in localStorage){if(localStorage.hasOwnProperty(h)){if(h.indexOf(g)===0){new b(f(JSON.parse(localStorage[h]).element),f.extend(JSON.parse(localStorage[h]).settings,{id:h.replace(g+"-","")}))}}}}})(window,jQuery);